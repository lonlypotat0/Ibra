<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>تحالف الغدير - المهندس إبراهيم الشمري</title>
  <style>
    body {
      margin: 0;
      font-family: "Tajawal", "Noto Kufi Arabic", sans-serif;
      background: linear-gradient(180deg, #0d1b2a, #1b263b);
      color: #111827;
      text-align: center;
    }

    .card {
      background: #fff;
      border-radius: 16px;
      margin: 30px auto;
      padding: 24px 20px;
      max-width: 430px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.15);
      position: relative;
      overflow: hidden;
    }

    .header img {
      width: 130px;
      height: 130px;
      border-radius: 50%;
      object-fit: cover;
      margin-bottom: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.3);
    }

    h1 { font-size: 24px; font-weight: 700; color: #0f172a; margin: 8px 0 4px; }
    h2 { font-size: 15px; color: #475569; margin-bottom: 8px; }

    .number {
      font-size: 14px;
      background: #1d4ed8;
      color: #fff;
      display: inline-block;
      padding: 4px 10px;
      border-radius: 10px;
      margin-bottom: 16px;
    }

    .coalition-blurb {
      background: #f9fafb;
      border-radius: 14px;
      padding: 14px;
      margin-bottom: 16px;
      text-align: right;
      box-shadow: 0 6px 18px rgba(0,0,0,0.06);
    }

    .section-title {
      font-size: 18px;
      font-weight: 700;
      text-align: right;
      margin: 14px 0 10px;
      color: #1f2937;
    }

    ul.goals { list-style: none; padding: 0; margin: 0 0 18px; text-align: right; }
    ul.goals li { padding: 6px 0; font-size: 15px; display: flex; align-items: center; gap: 8px; }

    .confirm-btn {
      display: inline-block;
      background: #1d4ed8;
      color: #fff;
      font-weight: 600;
      font-size: 16px;
      border: none;
      border-radius: 10px;
      padding: 10px 18px;
      text-decoration: none;
      transition: background 0.3s, transform 0.2s;
      cursor: pointer;
    }
    .confirm-btn:hover { background: #2563eb; transform: scale(1.05); }

    .form-container { max-height: 0; opacity: 0; overflow: hidden; margin-top: 20px; text-align: right; transition: max-height 0.6s ease, opacity 0.6s ease; }
    .form-container.active { max-height: 500px; opacity: 1; }
    .form-container input, .form-container button { width: 100%; padding: 8px 10px; margin: 8px 0; border-radius: 8px; border: 1px solid #cbd5e1; font-size: 15px; }
    .form-container button { background: #1d4ed8; color: #fff; font-weight: 600; font-size: 16px; border: none; margin-top: 10px; cursor: pointer; transition: background 0.3s, transform 0.2s; }
    .form-container button:hover { background: #2563eb; transform: scale(1.05); }

    .thank-you {
      max-height: 0;
      opacity: 0;
      overflow: hidden;
      margin-top: 20px;
      padding: 16px;
      border-radius: 14px;
      background: #e0f2fe;
      color: #0369a1;
      font-weight: 600;
      font-size: 16px;
      transition: max-height 0.8s ease, opacity 0.8s ease;
    }
    .thank-you.active { max-height: 1000px; opacity: 1; }

    .candidate-images { display: flex; justify-content: center; align-items: center; gap: 10px; margin-top: 10px; position: relative; }
    .candidate-images img { width: 90px; height: 90px; border-radius: 50%; object-fit: cover; opacity: 0.5; transition: all 0.6s ease; }
    .candidate-images img.active { width: 130px; height: 130px; opacity: 1; transform: scale(1.1); z-index: 2; }

    .voters-list { background: #f3f4f6; border-radius: 12px; padding: 14px; margin-top: 24px; text-align: right; box-shadow: 0 4px 14px rgba(0,0,0,0.1); }
    .voters-list h3 { margin: 0 0 10px; font-size: 16px; color: #1e3a8a; }
    .voters-list ul { list-style: none; margin: 0; padding: 0; font-size: 14px; }
    .voters-list li { background: #fff; padding: 6px 10px; margin-bottom: 6px; border-radius: 8px; box-shadow: 0 1px 4px rgba(0,0,0,0.08); line-height: 1.5; }
    .last-vote { font-size: 13px; color: #374151; margin-bottom: 10px; }

    .progress-container { background: #d1d5db; border-radius: 12px; width: 100%; height: 16px; margin-top: 12px; overflow: hidden; }
    .progress-bar { background: #1d4ed8; height: 100%; width: 0%; transition: width 0.8s ease; }

    footer { margin-top: 30px; color: #9ca3af; font-size: 13px; }
  </style>
</head>
<body>

  <div class="card">
    <div class="header">
      <img src="main.jpg" alt="صورة المرشح">
      <h1>المهندس إبراهيم الشمري</h1>
      <h2>إجيـتك يا الفقير</h2>
      <div class="number">رقم: 187</div>
    </div>

    <div class="coalition-blurb">
      <h3>📜 نبذة عن التحالف</h3>
      <p>
        تحالف الغدير بقيادة <strong>المهندس إبراهيم الشمري</strong> من أبناء الغدير الطيبين.
        هدفه بناء عراق متطور ينهض بالبلاد، يطور الرياضة والكرة العراقية وحتى الفلافل 🍔🇮🇶.
      </p>
    </div>

    <div class="section-title">🎯 أهداف الحملة</div>
    <ul class="goals">
      <li>🐑 طوبة وتحتاني</li>
      <li>✅ دعم البنية التحتية الرياضية.</li>
      <li>💻 التحول الرقمي للحكومة.</li>
      <li>🎓 تطوير التعليم وربطه بسوق العمل.</li>
      <li>🍔 تشجيع المشاريع الشبابية الصغيرة مثل مطاعم الفلافل!</li>
    </ul>

    <button class="confirm-btn" id="confirmBtn">أؤكد دعمي للمرشح</button>

    <div class="form-container" id="formContainer">
      <h3>يرجى إدخال معلوماتك:</h3>
      <input type="text" id="name" placeholder="الاسم الكامل" required />
      <input type="text" id="number" placeholder="الرقم" required />
      <input type="text" id="favoriteFood" placeholder="أكلتك المفضلة" required />
      <button id="submitForm">إرسال</button>
    </div>

    <div class="thank-you" id="thankYouMsg">
      <p>🎉 شكرًا لدعمك المرشح المهندس إبراهيم الشمري 🙏</p>
      <div class="candidate-images">
        <img src="image1.jpg" class="active">
        <img src="image2.jpg">
        <img src="image3.jpg">
      </div>
    </div>

    <div class="voters-list" id="votersList">
      <div class="last-vote" id="lastVoteTime">⏰ لم يتم تسجيل أي تصويت بعد</div>
      <h3>🗳️ قائمة المصوتين (<span id="voterCount">0</span>)</h3>
      <ul id="voterNames"></ul>
      <div class="progress-container">
        <div class="progress-bar" id="progressBar"></div>
      </div>
    </div>
  </div>

  <footer>
    تم التصميم بواسطة <a href="https://www.instagram.com/y_0h_/" target="_blank">@y_0h_</a>
  </footer>

  <script>
    const confirmBtn = document.getElementById('confirmBtn');
    const formContainer = document.getElementById('formContainer');
    const submitForm = document.getElementById('submitForm');
    const thankYouMsg = document.getElementById('thankYouMsg');
    const images = document.querySelectorAll('.candidate-images img');
    const voterNames = document.getElementById('voterNames');
    const voterCount = document.getElementById('voterCount');
    const lastVoteTime = document.getElementById('lastVoteTime');
    const progressBar = document.getElementById('progressBar');

    const TARGET_VOTERS = 10000;
    let current = 0;
    let count = 0;
    let lastVoteTimestamp = null;

    confirmBtn.addEventListener('click', () => {
      confirmBtn.style.display = 'none';
      formContainer.classList.add('active');
      formContainer.scrollIntoView({ behavior: 'smooth' });
    });

    submitForm.addEventListener('click', () => {
      const name = document.getElementById('name').value.trim();
      const number = document.getElementById('number').value.trim();
      const food = document.getElementById('favoriteFood').value.trim();

      if (!name || !number || !food) {
        alert("يرجى ملء جميع الحقول!");
        return;
      }

      formContainer.classList.remove('active');
      thankYouMsg.classList.add('active');
      thankYouMsg.scrollIntoView({ behavior: 'smooth' });

      const li = document.createElement('li');
      li.innerHTML = `<strong>${name}</strong><br>📞 ${number} | 🍽️ ${food}`;
      voterNames.appendChild(li);

      count++;
      voterCount.textContent = count;

      lastVoteTimestamp = Date.now();

      // تحديث شريط التقدم مع حركة سلسة
      let percent = (count / TARGET_VOTERS) * 100;
      if(percent > 100) percent = 100;
      progressBar.style.width = percent + "%";

      // بدء دوران الصور
      setInterval(() => {
        images[current].classList.remove('active');
        current = (current + 1) % images.length;
        images[current].classList.add('active');
      }, 3000);
    });

    // تحديث الوقت بشكل مستمر
    setInterval(() => {
      if (!lastVoteTimestamp) return;
      const diff = Math.floor((Date.now() - lastVoteTimestamp) / 1000);
      const mins = Math.floor(diff / 60);
      const secs = diff % 60;
      lastVoteTime.textContent = `⏰ آخر تصويت تم قبل ${mins > 0 ? mins + " دقيقة و" : ""}${secs} ثانية`;
    }, 1000);
  </script>
</body>
</html>
